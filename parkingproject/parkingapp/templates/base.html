<!DOCTYPE html>

<html>
  <head>
    
    <title>base page</title>
    
    <!--bootstrap code starts-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <!--bootstrap code ends-->
  </head>
  <body>
    <div class='container'> 
      
      <!--navigation bar-->
      <div class='row'>

        <!--navigation bar starts-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
          <div class="container-fluid">
            <a class="navbar-brand" href="#">Easy Parking</a>
            {% comment %} <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                      </button> {% endcomment %}
                      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                        <div class="navbar-nav">
                          <a class="nav-link active" aria-current="page" href="{% url 'home-page' %}">Home</a>
                          <a class="nav-link" href="{% url 'all-parking' %}">All parking locations</a>
                          <a class="nav-link" href="#">Pricing</a>
                          <!--sign up & login modal code is below, its connected throgh target and id-->
                          <div style="float:right;">
                          {% if user.is_authenticated %}
                          <a href="{% url 'logout' %}" class="btn btn-success" style="margin-right: 8px;" type="submit">Log out</a>
                          {% else %}
                          <button type="button" style="margin-right: 8px;"  class="btn btn-success" data-bs-toggle="modal" data-bs-target="#signupmodal">Sign Up</button>
                          <button type="button" style="margin-right: 8px;" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#loginmodal">Log In</button>
                          {% endif %}
                          </div>
                        </div>
                      </div>
                    </div>
                  </nav>
                  <!--navigation bar ends-->
      </div> <!--row 1 ends-->
                
<!--sign up modal starts-->
<!-- Modal -->
<div class="modal fade" id="signupmodal" tabindex="-1" aria-labelledby="signupmodalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="signupmodalLabel">Sign Up Here</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <!--modal body-->
      <div class="modal-body">
<!--form starts-->
        <form method='POST' action="{% url 'sign-up' %}">
          {% csrf_token %}
          <!--username ,first name and last name-->
          <div class="row mb-3">
            <div class="col-sm-10">
              <input type="text" class="form-control" id="username" name="username" placeholder="username" required>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-sm-10">
              <input type="text" class="form-control" id="Fname" name="Fname" placeholder="First Name" required>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-sm-10">
              <input type="text" class="form-control" id="Lname" name="Lname" placeholder="Last Name"  required>
            </div>
          </div>

          <!--email and password-->
          <div class="row mb-3">
            <div class="col-sm-10">
              <input type="email" class="form-control" id="email" name="email" placeholder="Email" required>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-sm-10">
              <input type="password" class="form-control" id="password" name="password" placeholder="Password" required>
            </div>
          </div>
          <!--buttons-->
          <button type="submit" class="btn btn-primary">Sign Up</button>
          <button type="submit" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </form>
<!--form ends-->
      </div> <!--modal body ends-->
    </div>
  </div>
</div>
<!--modal ends-->

<!--Login Modal starts-->
                <!-- Button trigger modal -->
                
                <!-- Modal -->
                <div class="modal fade" id="loginmodal" tabindex="-1" aria-labelledby="loginmoLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="loginmodalLabel">Login Here</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                
                      <!--modal body-->
                      <div class="modal-body">
                <!--form starts-->
                        <form action="{% url 'login' %}" method='POST'>       
                          {% csrf_token %}        
                          <!--email and password-->
                          <div class="row mb-3">
                            <div class="col-sm-10">
                              <input type="text" class="form-control" id="loginusername" name="loginusername" placeholder="loginusername" required>
                            </div>
                          </div>

                          <div class="row mb-3">
                            <div class="col-sm-10">
                              <input type="email" class="form-control" id="loginemail" name="loginemail" placeholder="Email" required>
                            </div>
                          </div>
                
                          <div class="row mb-3">
                            <div class="col-sm-10">
                              <input type="password" class="form-control" id="loginpassword" name="loginpassword" placeholder="Password" required>
                            </div>
                          </div>
                          <!--buttons-->
                          <button type="submit" class="btn btn-primary">Login</button>
                          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        </form>
                <!--form ends-->
                      </div> <!--modal body ends-->
                    </div>
                  </div>
                </div>
                <!--modal ends-->
<!--Login Modal ends-->

<!-- ðŸ” search bar code -->

      <div class='row'>
        <!--search bar starts -->
        <div style="background-color:#212529;">
          <nav class="navbar navbar-dark bg-dark">
              <div class="container-fluid" >

                <!-- url and method is added, col-lg-12 is added-->
                <form class="d-flex col-lg-12" action="{% url 'search-result' %}" method="get">
                  <input name='slot_name' class="form-control me-2" type="search" placeholder="Location" aria-label="Search">
                  <button class="btn btn-success" type="submit">Search</button>
                </form>

              </div>
            </nav>
      </div> 
      <!--search bar ends-->
      </div>     <!--row 2 ends-->

<!--alert messages-------------------------------------------------------------------------- -->
<div class='row'>
{% include 'messages.html' %}
</div>

<!-- content part ------------------------------------------------------------------------------ -->
      <div class='row'>
        {% block content %}
        {% endblock %}
      </div>

    </div> <!--container ends-->


      </body>
</html>